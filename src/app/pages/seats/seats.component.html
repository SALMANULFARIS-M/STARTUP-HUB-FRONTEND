<div class="min-h-screen bg-slate-950 text-slate-200 pb-48 px-6">
  <!-- HEADER -->
  <div
    class="sticky top-0 z-20 bg-slate-950/90 backdrop-blur border-b border-slate-800 px-6 py-4"
  >
    <div class="max-w-7xl mx-auto flex justify-between items-center">
      <div>
        <h1 class="text-xl font-semibold">Seat Allocation</h1>
        <p class="text-xs text-slate-400 mt-1">Monthly workspace booking</p>
      </div>

      <div class="text-sm text-slate-400">
        Selected:
        <span class="text-emerald-400 font-bold ml-1">
          {{ selectedSeats.length }}
        </span>
      </div>
    </div>
  </div>

  <!-- CONTENT -->
  <div
    class="max-w-7xl mx-auto mt-10 grid grid-cols-1 lg:grid-cols-[1fr_420px] gap-10"
  >
    <!-- LEFT: SEATS -->
    <div class="space-y-16">
      <div *ngFor="let row of seatRows">
        <div class="flex items-center gap-4 mb-4">
          <span class="text-xs tracking-widest text-slate-500 font-bold">
            {{ row.label }}
          </span>
          <div class="flex-1 h-px bg-slate-800"></div>
        </div>

        <div class="flex flex-wrap gap-6">
          <div
            *ngFor="let seat of row.seats"
            (click)="toggleSeat(seat)"
            class="relative cursor-pointer"
            [class.pointer-events-none]="seat.isBooked"
          >
            <div
              class="w-14 h-14 rounded-xl flex items-center justify-center border transition-all"
              [ngClass]="{
                'bg-slate-800 border-slate-700 hover:border-emerald-400':
                  !seat.isBooked && !seat.selected,
                'bg-emerald-400 text-black border-emerald-400 scale-105':
                  seat.selected,
                'bg-red-900/60 border-red-800 text-red-200 opacity-50':
                  seat.isBooked
              }"
            >
              <!-- WORKSPACE ICON -->
              <svg
                viewBox="0 0 512 458"
                class="w-6 h-6"
                fill="currentColor"
                xmlns="http://www.w3.org/2000/svg"
                shape-rendering="geometricPrecision"
                text-rendering="geometricPrecision"
                image-rendering="optimizeQuality"
                fill-rule="evenodd"
                clip-rule="evenodd"
                viewBox="0 0 512 457.765"
              >
                <path
                  d="M148.49 0h217.918c50.103 0 91.094 41.002 91.094 91.093v60.401c-20.134-1.132-40.672 5.866-55.804 21.003-13.003 12.999-21.074 30.949-21.074 50.707v26.222H131.376v-26.222c0-19.758-8.071-37.708-21.073-50.707-14.407-14.41-33.713-21.445-52.906-21.111V91.093C57.397 40.992 98.388 0 148.49 0zm307.601 457.765h.002c13.058 0 23.741-10.682 23.741-23.74v-17.308h.132c17.616 0 32.034-14.415 32.034-32.033v-161.48c0-72.917-111.815-72.913-111.815 0v193.513h32.165v17.308c0 13.058 10.683 23.74 23.741 23.74zM111.815 223.204v193.513H79.65v17.308c0 13.058-10.683 23.74-23.741 23.74h-.002c-13.058 0-23.741-10.682-23.741-23.74v-17.308h-.132C14.418 416.717 0 402.302 0 384.684v-161.48c0-72.917 111.815-72.913 111.815 0zm268.809 51.452v79.573H131.376v-79.573h249.248zm0 104.803v37.009H131.376v-37.009h249.248z"
                />
              </svg>
            </div>

            <span
              class="absolute -bottom-5 left-1/2 -translate-x-1/2 text-[10px]"
              [ngClass]="{
                'text-slate-400': !seat.selected && !seat.isBooked,
                'text-emerald-400': seat.selected,
                'text-red-400': seat.isBooked
              }"
            >
              {{ seat.seatId }}
            </span>
          </div>
        </div>
      </div>
    </div>

    <!-- RIGHT: BOOKING SUMMARY -->
    <div
      class="bg-slate-900 border border-slate-800 rounded-xl p-6 h-fit sticky top-28"
    >
      <h3 class="text-lg font-semibold mb-4">Booking Summary</h3>

      <!-- SELECTED SEATS -->
      <div class="space-y-2 text-sm">
        <div *ngFor="let seat of selectedSeats" class="flex justify-between">
          <span>{{ seat.seatId }}</span>
          <span>₹{{ seat.price }}</span>
        </div>
      </div>

      <hr class="my-4 border-slate-800" />

      <!-- FORM -->
      <form [formGroup]="bookingForm" class="space-y-3">
        <input
          formControlName="companyName"
          placeholder="Company Name"
          class="w-full input"
        />
        <input
          formControlName="contactName"
          placeholder="Contact Name"
          class="w-full input"
        />
        <input
          formControlName="email"
          placeholder="Email"
          class="w-full input"
        />

        <div class="grid grid-cols-2 gap-3">
          <input type="date" formControlName="startDate" class="input" />
          <input type="date" formControlName="endDate" class="input" />
        </div>
      </form>

      <hr class="my-4 border-slate-800" />

      <!-- TOTAL -->
      <div class="flex justify-between text-lg font-bold">
        <span>Total</span>
        <span>₹{{ totalAmount }}</span>
      </div>

      <button
        (click)="submitBooking()"
        [disabled]="bookingForm.invalid || selectedSeats.length === 0"
        class="mt-6 w-full py-3 rounded-lg bg-emerald-500 text-black font-bold hover:bg-emerald-400 transition disabled:opacity-40"
      >
        Confirm Booking
      </button>
    </div>
  </div>
</div>
